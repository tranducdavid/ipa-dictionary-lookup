"use strict";(self.webpackChunkipa_dictionary_lookup=self.webpackChunkipa_dictionary_lookup||[]).push([[483],{32483:function(n,e,t){t.r(e),t.d(e,{IpaLookup:function(){return X}});var r,i=t(29439),o=t(19860),s=t(9019),a=t(61113),c=t(57829),l=t(69099),u=t(47313),d=t(4942),f=t(1413),h=t(88564);!function(n){n.DESELECTED="deselected",n.REQUIRED="required",n.FORBIDDEN="forbidden"}(r||(r={}));var p=(0,h.ZP)(l.Z)((function(n){var e,t,r,i,o=n.selected,s=n.theme;return{minWidth:s.spacing(5),lineHeight:"1rem",textTransform:"none",color:null===(e=s.palette.selectionButtonColors)||void 0===e?void 0:e.text[o],backgroundColor:null===(t=s.palette.selectionButtonColors)||void 0===t?void 0:t.background[o],border:"solid 1px ".concat(null===(r=s.palette.selectionButtonColors)||void 0===r?void 0:r.borderColor),margin:"1px",padding:"6px","&:hover":{backgroundColor:null===(i=s.palette.selectionButtonColors)||void 0===i?void 0:i.background.hover[o]}}})),x=t(46417);function v(n){var e=n.label,t=n.symbols,i=n.state,s=n.setState,l=(0,o.Z)(),u=function(n,e,t){return function(){t((0,f.Z)((0,f.Z)({},e),{},(0,d.Z)({},n,function(n){var e=Object.values(r);return e[(e.indexOf(n)+1)%e.length]}(e[n]))))}};return(0,x.jsxs)(c.Z,{mb:l.spacing(2),children:[e&&(0,x.jsx)(a.Z,{children:e}),t.map((function(n){return(0,x.jsx)(p,{variant:"contained",selected:i[n],onClick:u(n,i,s),children:n},n)}))]})}function m(n){return n.reduce((function(n,e){return n[e]=r.DESELECTED,n}),{})}var g=t(60251),Z=t(85281);function j(n){var e=n.open;return(0,x.jsx)(g.Z,{sx:{position:"absolute",color:"#fff",zIndex:function(n){return n.zIndex.drawer+1}},open:e,children:(0,x.jsx)(Z.Z,{color:"inherit"})})}var b=t(15861),y=t(87757),S=t.n(y),C=t(59862);var k=function(n){return C.codec.hex.fromBits(C.hash.sha256.hash(n))};var D=t(40056);function P(n){return n.split("\n").map((function(n){var e=n.split("\t");return{spelling:e[0],pronunciation:e[1].split(", ")}}))}var E=t(66835),I=t(57861),_=t(67478),w=t(51629),R=t(23477),B=t(24076),U=t(82295),q=t(42461),L=t(37771),O=t(97456),T=t(77834);function z(n){var e=n.data,t=(0,o.Z)(),r=(0,u.useState)(0),s=(0,i.Z)(r,2),a=s[0],c=s[1],l=(0,u.useState)(10),d=(0,i.Z)(l,2),f=d[0],h=d[1],p=(0,u.useState)(""),v=(0,i.Z)(p,2),m=v[0],g=v[1],Z=(0,u.useCallback)(function(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(e),e=setTimeout((function(){e=null,n.apply(void 0,i)}),t)}}((function(n){return g(n)})),[g]),j=(0,u.useMemo)((function(){return""!==m?e.filter((function(n){return n.pronunciation.includes(m)||n.spelling.includes(m)})):e}),[e,m]);return(0,x.jsx)(w.Z,{component:U.Z,children:(0,x.jsxs)(E.Z,{size:"small",children:[(0,x.jsx)(R.Z,{children:(0,x.jsxs)(B.Z,{sx:{bgcolor:t.palette.primary.main},children:[(0,x.jsx)(F,{children:"Spelling"}),(0,x.jsx)(F,{children:"Phonetic"})]})}),(0,x.jsxs)(I.Z,{children:[(0,x.jsx)(B.Z,{children:(0,x.jsx)(_.Z,{sx:{paddingTop:0,paddingBottom:0},colSpan:2,children:(0,x.jsx)(q.Z,{sx:{height:33,fontSize:"0.875rem"},placeholder:"search",fullWidth:!0,disableUnderline:!0,onChange:function(n){Z(n.target.value)}})})},"i:search"),(f>0?j.slice(a*f,a*f+f):j).map((function(n){return(0,x.jsxs)(B.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,x.jsx)(_.Z,{children:n.spelling}),(0,x.jsx)(_.Z,{children:n.pronunciation.join(", ")})]},n.spelling)}))]}),(0,x.jsx)(L.Z,{children:(0,x.jsx)(B.Z,{children:(0,x.jsx)(O.Z,{rowsPerPageOptions:[10,15,20,25,100],colSpan:2,count:j.length,rowsPerPage:f,page:a,SelectProps:{native:!0},onPageChange:function(n,e){c(e)},onRowsPerPageChange:function(n){h(parseInt(n.target.value,10)),c(0)},ActionsComponent:T.Z})})})]})})}var F=(0,h.ZP)(_.Z)((function(n){var e=n.theme;return{color:e.palette.primary.contrastText,fontWeight:e.typography.fontWeightBold}})),M=function(n){var e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return k(JSON.stringify(e))},t={};return function(){var r=e.apply(void 0,arguments);if(null==t[r]){var i=n.apply(void 0,arguments);return t[r]=i,i}return t[r]}}((function(e){return n.filter((function(n){var t=e.letters.required.every((function(e){return n.spelling.includes(e)})),r=e.ipaSymbols.required.every((function(e){return n.pronunciation.some((function(n){return n.includes(e)}))})),i=e.letters.forbidden.every((function(e){return!n.spelling.includes(e)})),o=e.ipaSymbols.forbidden.every((function(e){return n.pronunciation.some((function(n){return!n.includes(e)}))}));return t&&r&&i&&o}))}),(function(n){var e=n.letters.required.join(""),t=n.letters.forbidden.join(""),r=n.ipaSymbols.required.join(""),i=n.ipaSymbols.forbidden.join("");return"searchFullDictionary/rl:".concat(e,";bl:").concat(t,";rp:").concat(r,";bp").concat(i)}));return{search:e}},N=function(){var n=null;return{get:function(){return n},create:function(e){return null==e?null:null!=n?n:n=M(e)}}}(),Q=t(21991),W=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],A=["b","d","d\u0292","\xf0","f","\u0261","h","j","k","\u026b","m","n","\u014b","p","\u0279","s","\u0283","t","t\u0283","\u03b8","v","w","z","\u0292"],H=["\u0251","\xe6","\u025b","\u025d","\u0254","\u0259","\u026a","\u028a","i","u"],J=["a\u026a","a\u028a","\u0254\u026a","e\u026a","o\u028a"],G=[A,H,J].flat(),K=function(n){return(0,u.useState)(m(n))},V=function(n,e){return Object.entries(n).filter((function(n){var t=(0,i.Z)(n,2);t[0];return t[1]===e})).map((function(n){var e=(0,i.Z)(n,2),t=e[0];e[1];return t}))};function X(){var n=(0,D.useQuery)("dictionaryData",(0,b.Z)(S().mark((function n(){var e,t,r;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("%PUBLIC_URL%/dictionary_en_US.sha256");case 2:return n.next=4,n.sent.text();case 4:if(e=n.sent,!(t=localStorage.getItem("dictionary_en_US"))){n.next=10;break}if(k(t)!==e){n.next=10;break}return n.abrupt("return",P(t));case 10:return n.next=12,fetch("%PUBLIC_URL%/dictionary_en_US.txt");case 12:return n.next=14,n.sent.text();case 14:return r=n.sent,localStorage.setItem("dictionary_en_US",r),n.abrupt("return",P(r));case 17:case"end":return n.stop()}}),n)})))),e=n.data,t="success"!==n.status,d=(0,o.Z)(),f=K(W),h=(0,i.Z)(f,2),p=h[0],g=h[1],Z=K(G),y=(0,i.Z)(Z,2),C=y[0],E=y[1],I=(0,u.useMemo)((function(){return{letters:{required:V(p,r.REQUIRED),forbidden:V(p,r.FORBIDDEN)},ipaSymbols:{required:V(C,r.REQUIRED),forbidden:V(C,r.FORBIDDEN)}}}),[p,C]),_=(0,u.useMemo)((function(){return null!=e?N.create(e):null}),[e]),w=(0,u.useMemo)((function(){return null===_||void 0===_?void 0:_.search(I)}),[_,I]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j,{open:t}),(0,x.jsxs)(s.ZP,{container:!0,children:[(0,x.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[(0,x.jsx)(a.Z,{variant:"h6",children:"Letters"}),(0,x.jsx)(v,{symbols:W,state:p,setState:g}),(0,x.jsx)(a.Z,{variant:"h6",children:"Phonemes"}),(0,x.jsx)(v,{label:"Consonants",symbols:A,state:C,setState:E}),(0,x.jsxs)(s.ZP,{container:!0,flexDirection:"row",children:[(0,x.jsx)(c.Z,{mr:d.spacing(2),children:(0,x.jsx)(v,{label:"Monophthongs",symbols:H,state:C,setState:E})}),(0,x.jsx)(v,{label:"Diphthongs",symbols:J,state:C,setState:E})]}),(0,x.jsx)(l.Z,{variant:"contained",endIcon:(0,x.jsx)(Q.Z,{}),onClick:function(){g(m(W)),E(m(G))},children:"Reset"})]}),(0,x.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[(0,x.jsx)(a.Z,{variant:"h6",children:"Dictionary"}),(0,x.jsx)(c.Z,{sx:{position:"relative"},children:(0,x.jsx)(z,{data:null!==w&&void 0!==w?w:[]})})]})]})]})}}}]);